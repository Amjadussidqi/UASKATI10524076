<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Struk Pembelian</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Struk Pembelian Anda</h1>
        </header>

        <nav class="menu">
            <a href="index.html">Beranda</a>
            <a href="transaksi.html">Pesan Sekarang</a>
            <a href="kontak.html">Kontak Kami</a>
        </nav>

        <div class="main-content-invoice">
            <main class="konten-utama">
                <div id="invoice-details" class="kotak-invoice">
                    </div>
            </main>
        </div>

        <footer class="footer">
            <p>&copy; 2025 Toko Diecast Mini GT. Semua Hak Cipta Dilindungi.</p>
        </footer>
    </div>
    <script>
        window.onload = function() {
            const invoiceDetails = document.getElementById('invoice-details');
            const params = new URLSearchParams(window.location.search);
            const invoiceNumber = `INV/${new Date().getFullYear()}/${Math.floor(1000 + Math.random() * 9000)}`;
            const tglPesan = new Date().toLocaleDateString('id-ID', { day: '2-digit', month: 'long', year: 'numeric' });

            if (params.has('nama')) {
                invoiceDetails.innerHTML = `
                    <div class="invoice-header">
                        <h2>INVOICE</h2>
                        <p><strong>No. Invoice:</strong> ${invoiceNumber}</p>
                        <p><strong>Tanggal Pesan:</strong> ${tglPesan}</p>
                    </div>
                    <div class="invoice-body">
                        <h4>Ditagihkan Kepada:</h4>
                        <p><strong>Nama:</strong> ${params.get('nama')}</p>
                        <p><strong>Alamat Pengiriman:</strong><br>${params.get('alamat')}</p>
                        <hr>
                        <h4>Detail Pesanan:</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Produk Dipesan</th>
                                    <th>Jumlah</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>${params.get('produk')}</td>
                                    <td>${params.get('jumlah')}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="invoice-footer">
                        <p>Terima kasih telah berbelanja!</p>
                        <p class="email-info">Konfirmasi pesanan akan dikirim ke email: <strong>${params.get('email')}</strong></p>
                    </div>
                `;
            } else {
                invoiceDetails.innerHTML = '<h2>Data transaksi tidak ditemukan.</h2><p>Silakan kembali ke halaman transaksi untuk membuat pesanan.</p>';
            }
        };
    </script>
</body>
</html>
